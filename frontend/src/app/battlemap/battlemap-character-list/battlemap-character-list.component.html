<div class="character-list">
  <div class="list-header">
    <h3>Characters</h3>
    <span class="char-count">{{ characters.length }}</span>
  </div>

  <div class="list-content">
    @if (characters.length === 0) {
      <div class="empty-state">
        <span class="empty-icon">ðŸ‘¤</span>
        <p>No characters in this world</p>
      </div>
    } @else {
      @for (char of characters; track char.id) {
        <div 
          class="character-card"
          [class.on-map]="isOnMap(char.id)"
          draggable="true"
          (dragstart)="onDragStart($event, char.id)"
        >
          <div class="char-portrait">
            @if (char.sheet.portrait) {
              <img [src]="char.sheet.portrait" [alt]="char.sheet.name" />
            } @else {
              <div class="char-initials">{{ getInitials(char.sheet.name || 'Unknown') }}</div>
            }
          </div>
          
          <div class="char-info">
            <div class="char-name">{{ char.sheet.name || char.id }}</div>
            <div class="char-class">
              @if (char.sheet.primary_class) {
                {{ char.sheet.primary_class }}
                @if (char.sheet.secondary_class) {
                  / {{ char.sheet.secondary_class }}
                }
              } @else {
                <span class="no-class">No class</span>
              }
            </div>
          </div>

          @if (isOnMap(char.id)) {
            <div class="on-map-badge" title="On map">âœ“</div>
          }
        </div>
      }
    }
  </div>

  <div class="list-footer">
    <p class="hint">Drag characters onto the map</p>
  </div>
</div>
