<app-card>
  <div class="backstory-header">
    <h2>Hintergrundgeschichte</h2>
  </div>

  <div class="editor-toolbar">
    <div class="toolbar-section">
      <button class="toolbar-btn" (click)="formatText('h1')" title="Heading 1">
        H1
      </button>
      <button class="toolbar-btn" (click)="formatText('h2')" title="Heading 2">
        H2
      </button>
      <button class="toolbar-btn" (click)="formatText('h3')" title="Heading 3">
        H3
      </button>
      <button class="toolbar-btn" (click)="formatText('p')" title="Normal Text">
        P
      </button>
    </div>
    <div class="toolbar-divider"></div>
    <div class="toolbar-section">
      <button class="toolbar-btn" (click)="formatText('bold')" title="Bold">
        <strong>B</strong>
      </button>
      <button class="toolbar-btn" (click)="formatText('italic')" title="Italic">
        <em>I</em>
      </button>
    </div>
    <div class="toolbar-divider"></div>
    <div class="toolbar-section">
      <button class="toolbar-btn color-white" (click)="setTextColor('white')" title="White Text">
        <span style="color: white;">●</span>
      </button>
      <button class="toolbar-btn color-purple" (click)="setTextColor('purple')" title="Purple Text">
        <span style="color: var(--accent);">●</span>
      </button>
      <button class="toolbar-btn color-gray" (click)="setTextColor('gray')" title="Gray Text">
        <span style="color: var(--text-muted);">●</span>
      </button>
    </div>
    <div class="toolbar-divider"></div>
    <div class="toolbar-section">
      <button class="toolbar-btn" (click)="insertHR()" title="Horizontal Line">
        ―
      </button>
    </div>
  </div>
  
  <div
    #editor
    class="rich-text-editor"
    contenteditable="true"
    (input)="onContentChange()"
    (blur)="onBlur()"
    (paste)="onPaste($event)"
    placeholder="Write your character's backstory here..."></div>
</app-card>
