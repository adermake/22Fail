<app-card>
  <div class="skills-header">
    <h2>Skills</h2>
    <button class="add-btn" (click)="openCreateDialog()">+ Add Skill</button>
  </div>

  <div class="skills-list">
    @for (skill of sheet.skills; track skill.name; let i = $index) {
      <app-skill
        [skill]="skill"
        [index]="i"
        (patch)="updateSkill(i, $event)"
        (delete)="deleteSkill(i)"
      ></app-skill>
    }
    
    @if (sheet.skills.length === 0) {
      <p class="empty-message">No skills yet. Click + to add one.</p>
    }
  </div>

  <!-- Create Dialog -->
  @if (showCreateDialog) {
    <div class="dialog-overlay" (click)="closeCreateDialog()">
      <div class="dialog-content" (click)="$event.stopPropagation()">
        <h3>Create New Skill</h3>
        <app-skill-creator
          (create)="createSkill($event)"
          (cancel)="closeCreateDialog()"
        ></app-skill-creator>
      </div>
    </div>
  }
</app-card>